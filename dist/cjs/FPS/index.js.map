{"version":3,"sources":["../../src/FPS/index.ts"],"names":["event_1","__importDefault","require","crc_1","utils_1","config_1","constant_1","constant_2","FPS","constructor","this","formatIndicator","initiationPoint","merchantAccount","merchantAccountInfo","uniqueIdentifier","merchantCategory","transactionCurrency","countryCode","merchantName","merchantCity","Silent","default","BANK_STANDARD_CHARTERED","USEFUL_CONSTANT","BANK_HSBC","BANK_BANK_OF_CHINA","BANK_EAST_ASIA","BANK_DBS","BANK_HANG_SANG","BANK_CITIBANK","BANK_WECHAT","BANK_TAP_N_GO","BANK_TNG","BANK_ALIPAY","BANK_OCTOPUS","BANK_PAYME","CURRENCY_HKD","CURRENCY_CNY","CURRENCY_TWD","CURRENCY_USD","FPS_EMAIL_IRD_PROFITS_TAX","FPS_EMAIL_IRD_SALARIES_TAX","FPS_EMAIL_IRD_PERSONAL_ASSESSMENT","FPS_ID_CLP","payload","id","content","numberToValidId","length","setAlphanumericSpecial","x","event","setError","isAlphanumericSpecial","setNumeric","fraction","limit","str","toFixed","toString","isError","test","parseFloat","data","parse","extract","JSON","stringify","FORMAT_INDICATOR","INITIATION_POINT","STATIC_QR_CODE","DYNAMIC_QR_CODE","TRANSACTION_CURRENCY","toUpperCase","currency","Object","keys","FPS_CURRENCY_LIST","filter","v","setCurrency","TRANSACTION_AMOUNT","setAmount","MERCHANT_NAME","MERCHANT_CITY","ADDITIONAL_INFORMATION","setAdditionalInfo","CYCLIC_REDUNDANCY_CHECK","setMerchantAccount","generate","e","crc","crcStr","crcCheck","split","code","MERCHANT_ACCOUNT_UNIQUE","paymentNetwork","map","MERCHANT_CATEGORY_CODE","transactionAmount","COUNTRY_CODE","additionalInfo","billNumber","ADDITIONAL_INFO_BILL","referenceLabel","ADDITIONAL_INFO_REFERENCE","cyclicRedundancyCheck","isStatic","setStatic","setDynamic","message","MERCHANT_ACCOUNT_PARTICIPANT","FPS_PARTICIPANT_LIST","MERCHANT_ACCOUNT_IDENTIFIER_FPS","MERCHANT_ACCOUNT_IDENTIFIER_MOBILE","slice","MERCHANT_ACCOUNT_IDENTIFIER_EMAIL","getBank","toName","_a","setBank","info","getFPSId","setFPSId","getMobile","setMobile","mobile","getEmail","setEmail","getAmount","toNumber","MERCHANT_INFO_NAME","extra","getBillNumber","setBillNumber","getReference","setReference","setHKD","setCNY","getCurrency","toCode","exports","window"],"mappings":"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","file":"index.js","sourceRoot":"../../../src"}